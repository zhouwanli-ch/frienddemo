<!--pages/mine/mine.wxml-->
<wxs src="/utils/filters.wxs" module="filters" />
<view class="page-box" wx:if="{{!showcalendar && userInfo.xcxuserstate !== -1}}">
  <view style="height: 70rpx;"></view>
  <view class="mine-head-card" bindtap="toEditMine">
    <view class="mine-head-card-photo">
      <view class="mine-head-card-see-box" catchtap="toseelog">
        <image class="mine-head-card-image" style="height: 40rpx;width: 60rpx;margin: 0 auto;" mode="scaleToFill"
          src="/assets/icon/see.png" />
        <view style="font-size:28rpx;text-align: center;">{{userInfo.xcxbesee ? userInfo.xcxbesee : 0}}æ¬¡</view>
      </view>
      <view class="mine-head-card-photo-box">
        <image class="mine-head-card-image" mode="scaleToFill" catchtap="previewImage"
          data-img="{{userInfo.xcxavatar ? baseUrl + userInfo.xcxavatar : (userInfo.avatarUrl ? userInfo.avatarUrl : '') }}"
          data-current="{{userInfo.xcxavatar ? [baseUrl + userInfo.xcxavatar] : (userInfo.avatarUrl ? [userInfo.avatarUrl] : [])}}"
          src="{{userInfo.xcxavatar ? baseUrl + userInfo.xcxavatar : (userInfo.avatarUrl ? userInfo.avatarUrl : '/assets/icon/noimage.png') }}" />
        <view class="mine-head-card-sex-box">
          <image class="mine-head-card-image"
            src="{{userInfo.xcxsex === 1 ? '/assets/icon/y.png' : (userInfo.xcxsex === 2 ? '/assets/icon/x.png' :'/assets/icon/xy.png')}}"
            mode="scaleToFill" />
        </view>
      </view>
      <view class="mine-head-card-edit-box">
        <image class="mine-head-card-image" mode="scaleToFill" src="/assets/icon/edit.png" catchtap="toEditMine" />
      </view>
    </view>
    <view class="mine-head-card-name">
      {{userInfo.xcxname ? userInfo.xcxname : 'ç”¨æˆ·å'}}
    </view>
    <view class="mine-head-card-other">
      <text>{{userInfo.xcxbornday && userInfo.xcxbornday !=='ä¿å¯†' ? filters.backAge(userInfo.xcxbornday) + 'å²' :
        "å¹´é¾„ä¿å¯†"}} </text>
      <text>ä¸¨ {{filters.starSeat(userInfo.xcxbornday)}} </text>
      <!-- <text>ä¸¨ {{userInfo.xcxcountry || userInfo.xcxcountry || userInfo.xcxcountry ? userInfo.xcxcountry +
        userInfo.xcxprovince + userInfo.xcxcity : 'æœªçŸ¥åŸå¸‚'}}</text> -->
    </view>
    <view class="mine-head-card-tell">
      {{userInfo.xcxremark ? userInfo.xcxremark : 'è¯·è®¾ç½®å®£è¨€'}}
    </view>
  </view>
  <view class="mine-content-card">
    <view class="mine-content-card-title">
      <view class="mine-content-card-title-word">
        <switch checked="{{userInfo.xcxuserstate === 1 ? true : false}}" bindchange="xcxuserstateChange" />
        {{userInfo.xcxuserstate === 1 ? "ä¿¡æ¯å±•ç¤º" : 'ä¿¡æ¯æœªå±•ç¤º'}}
      </view>
      <view class="mine-content-card-title-more" bindtap="toCardMore">
        <text>æ›´å¤š</text>
        <image class="mine-content-card-title-more-image" src="../../assets/icon/more.png" mode="scaleToFill" />
      </view>
    </view>
    <view class="mine-content-card-content">
      <view class="mine-content-card-content-left">
        <image style="width:100%;height:100%" mode="aspectFit" bindtap="previewImage"
          data-img="{{userInfo.cardqrcodeUrl ? baseUrl + userInfo.cardqrcodeUrl : '' }}"
          data-current="{{userInfo.cardqrcodeUrl ? [baseUrl + userInfo.cardqrcodeUrl] : [] }}"
          src="{{userInfo.cardqrcodeUrl ? baseUrl + userInfo.cardqrcodeUrl : '/assets/icon/zwtp.jpg' }}" />
      </view>
      <view class="mine-content-card-content-right">
        <view class="mine-content-card-content-right-top">
          <image style="width:100%;height:100%" mode="aspectFill" bindtap="previewCardImages"
            data-img="{{userInfo.cardimagesUrl.length > 0 ? baseUrl + userInfo.cardimagesUrl[userInfo.cardimagesUrl.length - 1].url : '' }}"
            data-current="{{userInfo.cardimagesUrl.length > 0 ? userInfo.cardimagesUrl : []}}"
            src="{{userInfo.cardimagesUrl.length > 0 ? baseUrl + userInfo.cardimagesUrl[userInfo.cardimagesUrl.length - 1].url : '/assets/icon/zwtp.jpg' }}" />
        </view>
        <view class="mine-content-card-content-right-bottom">
          <image style="width:100%;height:100%" mode="aspectFill" bindtap="previewCardImages"
            data-img="{{userInfo.cardimagesUrl.length > 1 ? baseUrl + userInfo.cardimagesUrl[userInfo.cardimagesUrl.length - 2].url : '' }}"
            data-current="{{userInfo.cardimagesUrl.length > 1 ? userInfo.cardimagesUrl : []}}"
            src="{{userInfo.cardimagesUrl.length > 1 ? baseUrl + userInfo.cardimagesUrl[userInfo.cardimagesUrl.length - 2].url : '/assets/icon/zwtp.jpg' }}" />
        </view>
      </view>
    </view>
    <view class="mine-content-card-bottom">
      <button size="default" type="primary" style="margin: 10rpx 20rpx 10rpx 40rpx;line-height: 30rpx;"
        bindtap="upCardQrCodeClick">ä¸Šä¼ äºŒç»´ç </button>
      <button size="default" type="primary"
        style="background: #5060d7;margin: 10rpx 40rpx 10rpx 20rpx;line-height: 30rpx;"
        bindtap="upCardImagesClick">ä¸Šä¼ ç…§ç‰‡</button>
    </view>
  </view>
  <view style="margin: 0 20rpx 20rpx 20rpx;">
    <view>
      <text selectable="true">
        ğŸ‘³â€â™‚ï¸ é—®é¢˜åé¦ˆæˆ–éœ€è¦å°ç¨‹åºå¼€å‘ï¼Œæ¬¢è¿è”ç³»ç®¡ç†å‘˜
      </text>
    </view>
    <view>
      <text selectable="true">
        ğŸ‘³â€â™‚ï¸ ç®¡ç†å‘˜å¾®ä¿¡å·ï¼šzwl382739709
      </text>
    </view>
  </view>
</view>
<view class="mine-head-card" style="margin-top: 200rpx;" wx:else>
  <view class="mine-head-card-photo">
    <view class="mine-head-card-photo-box">
      <image class="mine-head-card-image" mode="scaleToFill" catchtap="previewImage"
        data-img="{{userInfo.xcxavatar ? baseUrl + userInfo.xcxavatar : (userInfo.avatarUrl ? userInfo.avatarUrl : '') }}"
        data-current="{{userInfo.xcxavatar ? [baseUrl + userInfo.xcxavatar] : (userInfo.avatarUrl ? [userInfo.avatarUrl] : [])}}"
        src="{{userInfo.xcxavatar ? baseUrl + userInfo.xcxavatar : (userInfo.avatarUrl ? userInfo.avatarUrl : '/assets/icon/noimage.png') }}" />
      <view class="mine-head-card-sex-box">
        <image class="mine-head-card-image"
          src="{{userInfo.xcxsex === 1 ? '/assets/icon/y.png' : (userInfo.xcxsex === 2 ? '/assets/icon/x.png' :'/assets/icon/xy.png')}}"
          mode="scaleToFill" />
      </view>
    </view>
  </view>
  <view class="mine-head-card-name">
    {{userInfo.xcxname ? userInfo.xcxname : 'ç”¨æˆ·å'}}
  </view>
  <view class="mine-head-card-other">
    <text>{{userInfo.xcxbornday && userInfo.xcxbornday !=='ä¿å¯†' ? filters.backAge(userInfo.xcxbornday) + 'å²' :
      "å¹´é¾„ä¿å¯†"}} </text>
    <text>ä¸¨ {{filters.starSeat(userInfo.xcxbornday)}} </text>
  </view>
  <view class="mine-head-card-tell">
    è®°å½•æ–°çš„ä¸€å¤©
  </view>
</view>
<view wx:if="{{userInfo.xcxuserstate === -1}}" style="margin: 50rpx;font-size: 30rpx;">
  è´¦å·å·²è¢«å°ç¦ï¼Œå¦‚æœ‰å¼‚è®®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜å¾®ä¿¡å·ï¼šzwl382739709</view>